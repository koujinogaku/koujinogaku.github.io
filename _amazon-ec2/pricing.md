---
layout: document
title: 料金とサイトの確認(EC2)
upper_section: index
previous_section: administrator-console
next_section: registration
---
## 申し込みに必要な料金とサイト体系の確認
さっそく、サーバーをレンタルするのですが、この仮想サーバーのスペックによって主に値段が変わってきます。
申し込み作業を始める前に必要なことを決めておかないと、なにがなんだか分からなくなってしまいます。作業を始める前に決めてメモを作っておきましょう。

詳しいことはこちらに載っています。

>　http://aws.amazon.com/jp/ec2/

本来はスペックをどうするかを先に決めるべきなのですが、そこで悩むより先に悩まないで決められるほうを決めてしまいましょう。

## 地域の選択
まず決めるのが、サーバーを建てる場所です。地域(Region)と呼んでいます。

- アメリカ東海岸
- アメリカ西海岸
- ヨーロッパ
- アジア

どこにするかで、設備が違うらしく、ちょっとづつ環境や価格設定が変わっています。
最初はよく分からないと思いますので、価格も安く比較的いろいろと環境が整っている、アメリカ東海岸に立てることをお勧めします。日本から使うからといってアジアを選ぶ必要はありません。

## オペレーティングシステムの選択
Linux系はオペレーティングシステムのライセンスが加算されないのですが、Windows系ではライセンス料が加算されるので高くなるという仕組みです。

- Linux系
- Windows系

いろいろなサイトで、AmazonEC2へインストールイメージを作って・・・などという記述があり勘違いをしてしまいそうですが、よっぽどのことがない限りは、あらかじめ用意されているオペレーティングシステムのインストール済みのイメージを使用するので、自分で持っているWindowsのライセンスがあるからそれを使おうなどとは思わないでください。
というわけで、このドキュメントでは、お安いLinux系を選ぶ事としてお話を進めていきます。
オペレーティングシステムの具体的なエディションはあとで決めるのでここではどちらにするかを決めます。
その他にデータベースや様々なミドルウェアもあるようですが、ここでは無視しましょう。


## お金の払い方

- 起動した時間単位で払う
- １年一括、３年一括で払う
- ３０分単位に競売で競り落とす

まず分かりやすいのは、起動した時間単位で払う方法です。単純に起動した時間単位に課金されます。ただし１分でも１時間でも、起動してから終了するまでは１時間単位なので、１分でも１時間分払わないといけないことに注意してください。たとえば１時間に５回起動と終了をしてしまうと１時間ｘ５回で５時間分の課金がされます。
なんども再起動していると、とっても無駄です。起動したら終了しないというのが基本です。
これは、後で記述する起動イメージの話でも起動したらそのままが基本なのだと分かります。

次に一括払いですが、これは１年間使い放題とか、３年間使い放題という意味ではありません。１年分＝８７６０時間分を先払いするという意味です。１時間単位に課金されるのは変わりませんが先払いしたところから引き落とされていくわけです。逆に言えば、1年分払い込んだからといって、起動していない時間分は引き落とされないし、頻繁に再起動してしまうと、時間単位課金の時と同じように無駄に課金されてしまうというわけです。
当然先に一括払いしているので割引があって、大体３分の１ぐらいの料金ですんでしまいます。
使い続けることが決まっているなら、間違いなく一括払いがいいでしょう。まだお試しで使ってみてからというのであれば、時間課金である程度使ってみて、スペックなどを試してみるのもよいでしょう。

最後に３０分単位の競売ですが、スポットインスタンスと呼ばれています。
コスト削減にといううたい文句なので眼を惹かれてしまうのですが、上級者向けです。システムの使用状況によって空いてるときは課金が安く、混んでくると高くなり設定した価格より高くなったら自動的に終了するというものです。
どういう事かと言うとたとえば、今の相場が$0.02だから大丈夫と思って通常価格の$0.085を設定して安かったらもうけものと起動しておくと、時間帯によって$0.1以上にあがってしまい、突然パソコンの電源を切られたときと同じようにインスタンスが消えてしまうのです。実際に見ていると分かりますが割高なときが結構多いです。
突然消されてもいいように、様々な構成を設定してあって消えてもいい用途で使わなければなりません。スポットインスタンスという名前につられてテスト環境として使うと突然消されてせっかく作ったテスト環境が予期せぬテスト中にパーになると言うことがあるので、くれぐれも使い方を誤らないようにしてください。


## インスタンスタイプの選択
さて、最後にスペックを決めなければなりません。インスタンスタイプと呼んでいます。
これがバリエーションがたくさんあって、どれにすればいいかというのはとても難しいところです。
一番小さな、スタンダード-スモールインスタンスで、

- 1.7 GB メモリ
- 1 ECU （各1 ECU ECU × 1　仮想コア）
- 160 GB のローカルインスタンス ストレージ
- 32ビット プラットフォーム

というスペックです。
私の場合は、小さなＷｅｂサーバーですから、これで十分でしたので、迷わず決まりました。

個人で使うなら一番小さいインスタンスタイプで十分だと思うのですが、なんともいえません。
どのタイプも１時間単位で利用できますので、試してみるのが一番だと思います。

## その他に必要な料金
ここまでで、価格に関して決めなければならないことは、決めたのですが、実際にかかる課金はこのほかにもあります。

- バックアップ用ディスク領域
- データ用ディスク領域（必要な場合）
- 通信費

スタンダード-スモールインスタンスで160GBとありますが、この領域は巨大なＲＡＭＤＩＳＫだと思ってください。リブートすると消えてしまいます！！！
ですから、バックアップ用にS3というディスク領域を使用します。この領域は比較的安くて、１ＧＢまでなら、EC2を使っているユーザーには無料で付いてきます。

S3は普通にアプリケーション実行中に使うにはちょっと厳しい使い勝手(Webストレージ)なので、起動中にデーターベース用ディスク専用にディスク領域(EBS)を有料で用意することも出来るのです。
このディスク領域はオペレーティングシステムの動いている仮想ディスクイメージとは切り離されているのでリブートしても消えることはありません。

今回、私の場合は、ＲＡＭＤＩＳＫのような巨大なディスクがあるならバックアップとっておけば消えても許そうかってことで、データ用ディスク領域は使いませんでした。

そのほか通信費もかかります。毎月1GBまでは無料ですがそれを超えると料金がかかってきます。

っとここまで書いてみて、EC2をファイルサーバーに使うのは向いていないよねと思ってしまいます。
EC2を使わずに直接S3を使うほうが経済的だと思います。



## まとめ
決めないといけない事

- サーバーを建てる場所(米東/米西/欧州/アジア)
- オペレーティングシステム(Linux系/Windows系)
- 支払い方式(毎時/一括)
- スペック(いろいろ)

それぞれのお勧めは、

- 米東
- Linux系(もちろんLinuxが使える人向け)
- スペックが決まらないうちは毎時払い、決まったら一括払い
- スペックは試して決める

です。

ここまで決めておけば、申し込みが出来るようになります。
